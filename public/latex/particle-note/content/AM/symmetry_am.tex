\section{Symmetry of a System}
\label{sec:symmetry-am}
\subsection{Symmetry}
A fundamental concept in physics is \emph{symmetry}.
Let us see an example of symmetry in geometry:

\begin{figure}[htbp]
  \centering
  \begin{tikzpicture}[scale=1.2]
    \draw[thick] (-4, -1) node[left]{$A$} -- (-4, 1) node[left]{$B$} -- (-2, 1) node[right]{$C$} -- (-2, -1) node[right]{$D$} -- cycle;
    \draw[thick, dashed] (-3, -2.5) -- (-3, 2.5);
    \draw[ultra thick, ->] (-1.5, 0) -- (1.5, 0) node[midway, above]{Flip};
    \draw[thick] (2, -1) node[left]{$D$} -- (2, 1) node[left]{$C$} -- (4, 1) node[right]{$B$} -- (4, -1) node[right]{$A$} -- cycle;
    \draw[thick, dashed] (3, -2.5) -- (3, 2.5);
    \draw[thick, ->](-3.75, 1.2) arc[start angle=180, end angle = 0, radius=0.75];
  \end{tikzpicture}
  \caption{A square and its reflection.}
  \label{fig:symmetry_square}
\end{figure}
Notice how we flipped the square, and it looks the same without the labels.
In a more formal sense, we can say that the system(square) is \emph{invariant} under the transformation(flip).


\subsection{Transformations}
For example, Newtonian mechanics(or Newton's equation of motion) has some symmetries.
\eg{Equation of Motion}{
  For example, the equation of motion is unchanged under Galilean transformation.
  \begin{align}
    \sum \vec{F} & = m \vec{a}
  \end{align}
}
\dfn{Galilean Transformation}{
  The \emph{Galilean transformation} is a transformation of coordinates from a stationary observer to a moving observer with constant velocity $v$.
  \begin{align}
    \vec{\xi}(\vec{x}, t) & = \vec{x} - \vec{v} t
  \end{align}
  where $\vec{\xi}$ is the new coordinate, $\vec{x}$ is the old coordinate, $\vec{v}$ is the velocity of the observer, and $t$ is time.
}
and space/ time reversal:
\dfn{Space/Time Reversal}{
  The \emph{space reversal} is a transformation of coordinates that flips the sign of the position vector:
  \begin{align}
    \vec{x}' & = -\vec{x}
  \end{align}
  The \emph{time reversal} is a transformation of time that flips the sign of time:
  \begin{align}
    t' & = -t
  \end{align}
}



In the context of analytical mechanics, the system is described by the action $S$.
If the variation of the action $\delta S$ is invariant under a transformation, we say that the system has a symmetry under that transformation.

Notice that the Lagrangian has a degree of freedom(that is, the Lagrangian can be modified by adding a total derivative and variation of action remains the same):
\thm{Degree of Freedom in Lagrangian}{
  Adding a total derivative of time to the Lagrangian does not change the action:
  \begin{align}
    L'(q_i, \dot{q}_i, t) & = L(q_i, \dot{q}_i, t) + \odv{}{t}f(q(t), t) \implies \delta S'[L'] = \delta S[L]
  \end{align}
}
\pf{Proof}{
  The action is given by
  \begin{align}
    S'[L'] & = \int_{t_i}^{t_f} \odif{t} \, L'(q_i(t), \dot{q}_i(t), t)                                                   \\
           & = \int_{t_i}^{t_f} \odif{t} \, L(q_i(t), \dot{q}_i(t), t) + \int_{t_i}^{t_f} \odif{t} \, \odv{}{t}f(q(t), t) \\
           & = S[L] + \bab{\vphantom{\frac{a}{a}} f(q_i, t)}_{t_i}^{t_f} = S[L] + f(q_i(t_f), t_f) - f(q(t_i), t_i)
  \end{align}
  Since by taking the variation, $\delta q(t_f) = \delta q(t_i) = 0$, the last term is zero. Thus
  \begin{align}
    \delta S'[L'] & = \delta S[L]
  \end{align}
}


\subsection{Point Transformation}
In Analytical Mechanics, there is a general family of transformations called \emph{point transformation}.
\dfn{Point Transformation}{
  A \emph{point transformation} is a transformation of the generalized coordinates $q_i$ and time $t$ to new coordinates $Q_i$
  \begin{align}
    Q_j & = Q_j(q_i, t)
  \end{align}
  Note: if there are $N$ generalized coordinates $q_i$, then there must be $N$ new coordinates $Q_j$.
}
\eg{Point Transformation}{
  For example, changing from Cartesian coordinates to polar coordinates is a point transformation:
  \begin{alignat}{2}
    (x, y)      & \to (r, \theta) \quad \iff \begin{cases}
                                               r      & = \sqrt{x^2 + y^2}          \\
                                               \theta & = \arctan \pab{\frac{y}{x}}
                                             \end{cases} \\
    (r, \theta) & \to (x, y) \quad \iff \begin{cases}
                                          x & = r \cos \theta \\
                                          y & = r \sin \theta
                                        \end{cases}
  \end{alignat}
  notice how each new coordinate only depends on the old coordinates, not the velocity.
}
Point transformation does not change the action, i.e., the variation of the action is invariant under point transformation:
\thm{Invariance of Euler-Lagrange Equation}{
  The Euler-Lagrange equation is invariant under point transformation:
  \begin{align}
    \pdv{L}{q_i} - \odv{}{t} \pab{\pdv{L}{\dot{q}_i}} & = 0
    \implies \pdv{L}{Q_j} - \odv{}{t} \pab{\pdv{L}{\dot{Q}_j}}  = 0
  \end{align}
  proof is given in Sec. \ref{sec:invariance-euler-lagrange}.
}

Now, using the point transformation, we can give the definition of symmetry, in the context of analytical mechanics:
\dfn{Symmetry of the System}{
  A system is said to have a \emph{symmetry} under a point transformation $q_i \to Q_i$ if the change in Lagrangian is up to the degree of freedom:
  \begin{align}
    L(Q_i, \dot{Q}_i, t) & = L(q_i, \dot{q}_i, t) + \underbrace{\odv{}{t}f(q_i, t)}_{\text{change in } L}
  \end{align}
  where $L$ is the Lagrangian of the system before the point transformation. Note that the Lagrangian of LHS has the same functional form as RHS(i.e. $Q$ nad $\dot{Q}$ are substituted for $q$ and $\dot{q}$).
  Or equivalently, the action is invariant under the point transformation:
  \begin{align}
    S[Q_i, \dot{Q}_i, t] & = S[q_i, \dot{q}_i, t] + \int_{t_i}^{t_f} \odif{t} \, \odv{}{t}f(q_i, t) = S[q_i, \dot{q}_i, t]
  \end{align}
}

Importantly, the point transformation can be either discrete or continous, and collection of point transformations that preserve the action is called a \emph{group}.
In short, it means three things:
\begin{enumerate}
  \item There is an identity transformation (i.e. no change)
  \item If there are multiple transformations, there is a single transformation that is the result of applying those transformations in sequence.
  \item If there is a transformation, there is an \emph{inverse transformation} that undoes the transformation.
\end{enumerate}

This concept is very important in particle physics.

\subsection{Symmetry of the System including Time}
\begin{align}
  t'      & = t'(q_i, t)  \\
  Q_j(t') & = Q_j(q_i, t)
\end{align}
and define
\begin{align}
  \dot{Q}_j & := \odv{Q(t')}{t'}
\end{align}
For this transformation to be a symmetry of the system, the change in action must keep the variation of action invariant:
\begin{align}
  S[Q_i] & = \int_{t_i'}^{t_f'} \odif{t'} \, L(Q_i(t'), \dot{Q}_i(t'), t')       \\
         & = \int_{t_i}^{t_f} \odif{t} \odv{t'}{t} L(Q_i(t'), \dot{Q}_i(t'), t')
\end{align}
For the variation of action to be invariant, the change in Lagrangian must be up to the degree of freedom:
\begin{align}
  \odv{t'}{t} L(Q_i(t'), \dot{Q}_i(t'), t') & = L(q_i, \dot{q}_i, t) + \odv{}{t} f(q_i, t)
\end{align}
Thus the symmetry under the transformation including time is defined as:
\dfn{Symmetry of the System including Time}{
  A system is said to have a \emph{symmetry} under a transformation including time $t' = t'(q_i, t)$ and $Q_j(t') = Q_j(q_i, t)$ if the change in Lagrangian can be written as follows:
  \begin{align}
    \odv{t'}{t} L(Q_i(t'), \dot{Q}_i(t'), t') & = L(q_i, \dot{q}_i, t) + \odv{}{t} f(q_i, t)
  \end{align}
}



\subsection{Noether's Theorem}
Here, I introduce Noether's theorem, highlights the direct correspondence between symmetries and conservation laws:
\thm{Noether's Theorem under Point Transformation}{
  Every real paramter of a continuous symmetry of the action corresponds to a conserved quantity $\symcal{Q}$.
  If the continous symmetry is given by an infinitesimal transformation: $Q_i(t) = q_i(t) + \epsilon F_i(q(t), t) + \mathcal{O}(\epsilon^2)$,
  \begin{align}
    \symcal{Q} & = \sum_i F_i(q(t), t) \pdv{L(Q_i(t), \dot{Q}_i(t), t)}{\dot{q}_i} - \Lambda(q(t), t)
  \end{align}
  where $\Lambda(q(t), t)$ is the change in the Lagrangian under the infinitesimal transformation.
}
This might be quite abstract, so let us see an example of Noether's theorem in action.
First, take the generalized coordinates $\vec{q}(t)$ to be the position vector $\vec{r}(t)$ of a particle in space.
Then the new coordinates $Q_i(t)$ can be defined as:
\begin{align}
  Q_i(t) & = r_i(t) + \epsilon F_i(\vec{r}(t), t) + \mathcal{O}(\epsilon^2)
\end{align}
\eg{Translation in Space}{
  If we consider a constant translation in space, we can write the infinitesimal transformation as:
  \begin{align}
    Q_i(t) & = r_i(t) + \epsilon a_i + \mathcal{O}(\epsilon^2) \\
  \end{align}
  If Lagrangian only depends on $\dot{\vec{r}}_i(t)$ or $\vec{r}_n - \vec{r}_m$ (often called internal forces, which satisfy action-reaction law),
  the effect of constant translation is cancelled out (i.e. $\Lambda = 0$):
  \begin{align}
    \implies \quad \symcal{Q} & = \sum_i a_i \pdv{L}{\dot{r}_i} \implies \dot{\symcal{Q}} = \sum_i a_i \odv{}{t} \pdv{L}{\dot{r}_i} = 0
  \end{align}
  since $a_i$ is arbitrary, the only possibility is that
  \begin{align}
    \pdv{L}{\dot{r}_i} & = \text{const.}
  \end{align}
  which is the momentum of the particle!
}
There are many more symmetries and corresponding conserved quantities, which I summarize below:
\begin{table}[htbp]
  \centering
  \caption{Symmetries and Corresponding Conserved Quantities}
  \footnotesize
  \begin{tabular}{cccc}
    \toprule
    Symmetry                & Transformation                          & Conserved Quantity $\symcal{Q}$         & Group $G$ \\
    \midrule
    Spatial Translation     & $\vec{r}' = \vec{r} + \epsilon \vec{a}$ & Linear Momenum $\sum \vec{p}$           & $\real^3$ \\
    Temporal translation    & $t' = t + \epsilon T(q_i(t), t)$        & Energy $E$                              & $\real$   \\
    Spatial Rotation        & $\vec{r}' = R(\theta) \vec{r}$          & Angular Momentum $\sum \vec{L}$         & $SO(3)$   \\
    Spin Rotation           & $\vec{r}' = R(\theta) \vec{r}$          & Spin $\sum \vec{S}$                     & $SO(3)$   \\
    Galilean Transformation & $\vec{r}' = \vec{r} - \vec{v} t$        & $\sum \vec{p} - t \vec{P}_{\text{obs}}$ & $\real^3$ \\
    Phase Transformation    & $\psi' = e^{i \theta} \psi$             & Number of particles $N$ / Charge $Q$    & $U(1)$    \\
    \bottomrule
  \end{tabular}
  \label{tab:symmetries}
  \normalsize
\end{table}
\nt{
  Proofs are in Section \ref{sec:proof-noether-theorem}.
}
\thm{Noether's Theorem under Transformation Including Time}{
  If the system is symmetric under the transformation includes time translation:
  \begin{align}
    t'      & = t + \epsilon T(q_i(t), t) + \symcal{O}(\epsilon^2)        \\
    Q_i(t') & = q_i(t) + \epsilon F_i(q_i(t), t) + \symcal{O}(\epsilon^2)
  \end{align}
  There is a conserved quantity $\symcal{Q}$ given by:
  \begin{align}
    \symcal{Q} & =
    \begin{multlined}[t]
      \sum_i \bab{F_i(q_i(t), t) \pdv{L(q_i(t), \dot{q}_i(t), t)}{\dot{q}_i}} - \Lambda(q_i, t) \\
      \qquad - T(q_i(t), t) \sum_i \bab{\dot{q}_i (t)\pdv{L(q_i(t), \dot{q}_i(t), t)}{\dot{q}_i} - L(q_i(t), \dot{q}_i(t), t)}
    \end{multlined}
  \end{align}
}









\cite{hachiware-analyticalMechanics}